<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Info Gempa</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <!-- bootstrap css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
            
      <!-- style css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

      <!-- Responsive -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">

      <!-- fevicon -->
      <link rel="icon" href="{{ url_for('static', filename='images/fevicon.png') }}" type="image/gif" />

      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">

      <!-- Owl Carousel -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}">

      <!-- Fancybox -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">

      <!-- BaguetteBox -->
      <link rel="stylesheet" href="https://rawgit.com/LeshikJanz/libraries/master/Bootstrap/baguetteBox.min.css">
      <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
   </head>
   <!-- body -->
   <body class="main-layout inner_page">
      <!-- loader  -->
      <div class="loader_bg">
         <div class="loader"><img src="{{ url_for('static', filename='images/loading.gif') }}" alt="#"/></div>
      </div>
      <!-- end loader -->
      <!-- top -->
       <!-- header -->
       <header class="header-area">
         <div class="left">
            <a href="Javascript:void(0)"><i class="fa fa-search" aria-hidden="true"></i></a>
         </div>
         <div class="right">
            <a href="Javascript:void(0)"><i class="fa fa-user" aria-hidden="true"></i></a>
         </div>
         <div class="container">
            <div class="row d_flex">
               <div class="col-sm-3 logo_sm">
                  <div class="logo">
                     <a href="index.html"></a>
                  </div>
               </div>
               <div class="col-lg-10 offset-lg-1 col-md-12 col-sm-9">
                  <div class="navbar-area">
                     <nav class="site-navbar">
                        <ul>
                           <li><a style="opacity: 0;" href="#">hahahah</a></li>
                           <li><a href="#" class="logo_midle">Peta</a></li>
                           <li><a style="opacity: 0;" href="#">hahahaha</a></li>
                           <li><a href="{{ url_for('home') }}">Beranda</a></li>
                           <li><a style="opacity: 0;" href="#">hahahaha</a></li>
                           <li><a href="{{ url_for('klaster') }}">Klaster</a></li>
                           <li><a style="opacity: 0;" href="#">hahaha</a></li>
                        </ul>
                        <button class="nav-toggler">
                        <span></span>
                        </button>
                     </nav>
                  </div>
               </div>
            </div>
         </div>
      </header>
   <!-- end header -->
      <!-- about -->
      <div class="about mt-4">
         <div class="container_width">
            <div class="row d_flex">
                   <div class="col-md-7">
                  <div class="titlepage text_align_left">
                     <h2>Peta Gempa Bumi 2025</h2>
                  </div>
               </div>
               

                        
                        <div class="container mt-5">
                            
                                <label for="month-select" class="form-label">Pilih Bulan:</label>
                                <select id="month-select" class="form-select form-select-lg" aria-label="Pilih Bulan">
                                  <option value="january">Januari</option>
                                  <option value="february">Februari</option>
                                  <option value="march">Maret</option>
                                </select>
                              
                                <iframe id="map-frame" src="{{ url_for('static', filename='world_map_january_2025.html') }}" 
                                width="100%" height="600px" style="border: 2px solid #ccc; border-radius: 10px; margin-top: 20px;"></iframe>
                         
                                 </div>
                     </div>
                     <div class="titlepage text_align_left">
                        <p></p>
                        <h3 class="mb-4">Tabel Data Kejadian Gempa Bumi</h3>
                    </div>
                        <table id="earthquake-table" class="table table-striped table-bordered">
                           <thead>
                              <tr>
                                 <th>Tanggal & Waktu</th>
                                 <th>Lintang</th>
                                 <th>Bujur</th>
                                 <th>Magnitudo (SR)</th>
                                 <th>Kedalaman (Km)</th>
                                 <th>Lokasi</th>
                              </tr>
                           </thead>
                           <tbody></tbody>
                        </table>
                    
                           
                       </div>

                       <div class="container mt-5 mb-4">
   <div class="text-center">
      <p style="font-size: 14px; color: #666;">
         <strong>Sumber Data:</strong>
         <a href="https://www.kaggle.com/datasets/kekavigi/earthquakes-in-indonesia/data" target="_blank" style="color: #007bff; text-decoration: underline;">
            Earthquakes in Indonesia - Kaggle Dataset
         </a>
      </p>
   </div>
</div>
                       
              
            </div>
         </div>
      </div>
      <!-- end about -->
      <!--  footer -->
      <footer>
         <div class="footer">
            <div class="container">
               <div class="row">
                        <div class="col-lg-2 col-md-6 col-sm-6">
                           <div class="hedingh3 text_align_left">
                              <h3>Resources</h3>
                              <ul class="menu_footer">
                                 <li><a href="index.html">Home</a><li>
                                 <li><a href="javascript:void(0)">What we do</a><li>
                                 <li><a href="javascript:void(0)">Media</a><li>
                                 <li><a href="javascript:void(0)">Travel Advice</a><li>
                                 <li><a href="javascript:void(0)">Protection</a><li>
                                 <li><a href="javascript:void(0)">Care</a><li>
                              </ul>
                           </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6">
                           <div class="hedingh3 text_align_left">
                             <h3>About</h3>
                              <p>Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various</p>
                           </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6">
                           <div class="hedingh3  text_align_left">
                              <h3>Contact  Us</h3>
                                <ul class="top_infomation">
                        <li><i class="fa fa-map-marker" aria-hidden="true"></i>
                           Making this the first true  
                        </li>
                        <li><i class="fa fa-phone" aria-hidden="true"></i>
                           Call : +01 1234567890
                        </li>
                        <li><i class="fa fa-envelope" aria-hidden="true"></i>
                           <a href="Javascript:void(0)">Email : demo@gmail.com</a>
                        </li>
                     </ul>     
                     </div>
                  </div>
                     <div class="col-lg-4 col-md-6 col-sm-6">
                           <div class="hedingh3 text_align_left">
                              <h3>countrys</h3>
                              <div class="map">
                                <img src="images/map.png" alt="#"/>
                              </div>
                           </div>
                        </div>
               </div>
            </div>
            <div class="copyright">
               <div class="container">
                  <div class="row">
                     <div class="col-md-8 offset-md-2">
                        <p>Â© 2020 All Rights Reserved. Design by <a href="https://html.design/"> Free html Templates</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </footer>
      <!-- end footer -->
      <!-- Javascript files-->
      <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
      <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.8.1/baguetteBox.min.js"></script>
      <script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
      <script src="{{ url_for('static', filename='js/custom.js') }}"></script>
      <!-- DataTables CSS -->
      <!-- DataTables JS -->
      <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>


     <script>
      const mapFrame = document.getElementById('map-frame');
      const monthSelect = document.getElementById('month-select');

      // Fungsi untuk memuat data CSV ke tabel
      function loadTableData(month) {
          const fileMap = {
              january: 'df_januari_2025.csv',
              february: 'df_februari_2025.csv',
              march: 'df_maret_2025.csv'
          };
          $.ajax({
              url: `/static/${fileMap[month]}`,
              dataType: 'text',
              success: function(data) {
                  const rows = data.split('\n').slice(1);
                  const tableBody = $("#earthquake-table tbody");
                  tableBody.empty();  // Clear isi tabel sebelum mengisi ulang
                  rows.forEach(row => {
                      const cols = row.split(',');
                      if (cols.length === 6) {
                          const newRow = `
                              <tr>
                                  <td>${cols[0]}</td>
                                  <td>${cols[1]}</td>
                                  <td>${cols[2]}</td>
                                  <td>${cols[3]}</td>
                                  <td>${cols[4]}</td>
                                  <td>${cols[5]}</td>
                              </tr>`;
                          tableBody.append(newRow);
                      }
                  });
              },
              error: function() {
                  alert("Gagal mengambil data gempa bumi.");
              }
          });
      }

      // Ganti peta dan tabel ketika bulan diubah
      monthSelect.addEventListener('change', (event) => {
         const month = event.target.value;
         const maps = {
            january: 'world_map_january_2025.html',
            february: 'world_map_february_2025.html',
            march: 'world_map_march_2025.html'
         };
         mapFrame.src = `/static/${maps[month]}`;
         loadTableData(month);
      });

      // Load data awal (Januari)
      loadTableData('january');
   </script>
   
      
   </body>
</html>

